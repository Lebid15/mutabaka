# ููุฒุฉ ุฅุฏุงุฑุฉ ุงูุฅุดุนุงุฑุงุช ูู ุตูุญุฉ ุงูุฅุนุฏุงุฏุงุช

## ูุธุฑุฉ ุนุงูุฉ
ุชู ุฅุถุงูุฉ ูุณู ุฌุฏูุฏ ูู ุตูุญุฉ ุงูุฅุนุฏุงุฏุงุช ูุฅุฏุงุฑุฉ ุฃุฐููุงุช ุงูุฅุดุนุงุฑุงุช (Push Notifications) ุจุดูู ุฐูู ูุณูู ูููุณุชุฎุฏู.

## ุงููุดููุฉ ุงูุชู ุชู ุญููุง
- ุนูุฏูุง ูุฑูุถ ุงููุณุชุฎุฏู ุฃุฐููุงุช ุงูุฅุดุนุงุฑุงุช ุนูุฏ ุฃูู ุงุณุชุฎุฏุงู ููุชุทุจููุ **ูุง ูุณุชุทูุน ุงูุชุทุจูู ุทูุจ ุงูุฅุฐู ูุฑุฉ ุฃุฎุฑู ุชููุงุฆูุงู**.
- ุงููุณุชุฎุฏู ูุญุชุงุฌ ุฅูู ูุนุฑูุฉ ููููุฉ ุชูุนูู ุงูุฅุดุนุงุฑุงุช ูุงุญูุงู ูู ุฅุนุฏุงุฏุงุช ุงูุฌูุงุฒ.

## ุงูุญู ุงููุทุจู โ

### 1. ุชุญุฏูุซ `pushNotifications.ts`
- ุฅุถุงูุฉ ุฏุงูุฉ `openNotificationSettings()` ุงูุชู ุชูุชุญ ุฅุนุฏุงุฏุงุช ุงูุชุทุจูู ูุจุงุดุฑุฉ ูู ูุธุงู ุงูุชุดุบูู
- ุชุณุชุฎุฏู `Linking.openSettings()` ููุชุญ ุตูุญุฉ ุฅุนุฏุงุฏุงุช ุงูุชุทุจูู

### 2. ูุณู ุฌุฏูุฏ ูู ุตูุญุฉ ุงูุฅุนุฏุงุฏุงุช
ุชู ุฅุถุงูุฉ ูุณู "ุฅุดุนุงุฑุงุช ุงูุชุทุจูู" ูุนุฑุถ:

#### ุญุงูุงุช ุงูุฅุดุนุงุฑุงุช:
- **โ ููุนููุฉ (granted)**: ูุนุฑุถ ุฑุณุงูุฉ ุชุฃููุฏ ุฃู ุงูุฅุดุนุงุฑุงุช ุชุนูู
- **โ ูุนุทููุฉ (denied)**: ูุนุฑุถ ุฑุณุงูุฉ ุชูุถูุญูุฉ ูุฒุฑ ููุชูุนูู
- **โ ุบูุฑ ูุญุฏุฏุฉ (undetermined)**: ูููู ุทูุจ ุงูุฅุฐู ูุจุงุดุฑุฉ

#### ุงููุธุงุฆู ุงูุฐููุฉ:
1. **ูุญุต ุชููุงุฆู**: ูุชุญูู ูู ุญุงูุฉ ุงูุฅุดุนุงุฑุงุช ุนูุฏ ูุชุญ ุงูุตูุญุฉ ุฃู ุงูุนูุฏุฉ ุฅูููุง
2. **ุฒุฑ ุชูุนูู ุฐูู**:
   - ุฅุฐุง ูู ููุทูุจ ุงูุฅุฐู ูู ูุจู โ ูุทูุจ ุงูุฅุฐู ูุจุงุดุฑุฉ
   - ุฅุฐุง ุชู ุฑูุถ ุงูุฅุฐู ุณุงุจูุงู โ ููุชุญ ุฅุนุฏุงุฏุงุช ุงูุฌูุงุฒ ูุน ุชุนูููุงุช

## ููู ูุนููุ

### ุงูุณููุงุฑูู 1: ุงููุณุชุฎุฏู ูู ูุฎุชุฑ ุจุนุฏ
```
ุงููุณุชุฎุฏู ูุถุบุท "ุชูุนูู ุงูุฅุดุนุงุฑุงุช"
    โ
ูุธูุฑ ูุงูุฐุฉ ุทูุจ ุงูุฅุฐู ูู ุงููุธุงู
    โ
ุฅุฐุง ูุงูู โ โ ุชู ุงูุชูุนูู
ุฅุฐุง ุฑูุถ โ ููุญูุธ ุงููุฑุงุฑ ูู ุงููุธุงู
```

### ุงูุณููุงุฑูู 2: ุงููุณุชุฎุฏู ุฑูุถ ุณุงุจูุงู
```
ุงููุณุชุฎุฏู ูุถุบุท "ุชูุนูู ุงูุฅุดุนุงุฑุงุช"
    โ
ุชุธูุฑ ุฑุณุงูุฉ ุชูุถูุญูุฉ ูุน ุฎุทูุงุช ุงูุชูุนูู
    โ
ุงููุณุชุฎุฏู ูุถุบุท "ูุชุญ ุงูุฅุนุฏุงุฏุงุช"
    โ
ูููุชุญ ุชุทุจูู ุงูุฅุนุฏุงุฏุงุช โ ูุณู "ูุทุงุจูุฉ" โ ุงูุฅุดุนุงุฑุงุช
    โ
ุงููุณุชุฎุฏู ููุนูู ุงูุฅุดุนุงุฑุงุช ูุฏููุงู
    โ
ุนูุฏ ุงูุนูุฏุฉ ููุชุทุจูู โ โ ูุชู ุชุญุฏูุซ ุงูุญุงูุฉ ุชููุงุฆูุงู
```

## ูุงุฌูุฉ ุงููุณุชุฎุฏู

### ุงูุชุตููู
- **ุจุทุงูุฉ ูุงุถุญุฉ** ุชุดุจู ุจููุฉ ุฃูุณุงู ุงูุฅุนุฏุงุฏุงุช
- **ุดุงุฑุฉ ุญุงูุฉ** (Badge): ุชุนุฑุถ "ููุนููุฉ" ุฃู "ูุนุทููุฉ" ุจุฃููุงู ูููุฒุฉ
- **ุฒุฑ ุจุงุฑุฒ** ูุน ุฃููููุฉ ุฌุฑุณ ูุชูุนูู ุงูุฅุดุนุงุฑุงุช
- **ุฑุณุงุฆู ุชูุถูุญูุฉ** ุชุดุฑุญ ูููุณุชุฎุฏู ุฃูููุฉ ุงูุฅุดุนุงุฑุงุช

### ุงูุฑุณุงุฆู ุงูุชูุฌูููุฉ

#### ุนูุฏ ุงูุชูุนูู:
```
ุชู ุงูุชูุนูู โ
ุชู ุชูุนูู ุงูุฅุดุนุงุฑุงุช ุจูุฌุงุญ! ุณุชุตูู ุงูุขู ุฅุดุนุงุฑุงุช ุจุงูุฑุณุงุฆู ุงูุฌุฏูุฏุฉ.
```

#### ุนูุฏ ุงูุญุงุฌุฉ ููุฅุนุฏุงุฏุงุช:
```
ุชูุนูู ุงูุฅุดุนุงุฑุงุช โน๏ธ

ูุชูุนูู ุงูุฅุดุนุงุฑุงุชุ ุงุฐูุจ ุฅูู ุฅุนุฏุงุฏุงุช ุงูุฌูุงุฒ:

1. ุงุถุบุท "ูุชุญ ุงูุฅุนุฏุงุฏุงุช"
2. ุงุจุญุซ ุนู "ุงูุฅุดุนุงุฑุงุช"
3. ูุนูู ุงูุฅุดุนุงุฑุงุช ูุชุทุจูู ูุทุงุจูุฉ

[ุฅูุบุงุก] [ูุชุญ ุงูุฅุนุฏุงุฏุงุช]
```

## ุงููููุงุช ุงููุนุฏููุฉ

### 1. `mobile/src/lib/pushNotifications.ts`
```typescript
// ุฅุถุงูุฉ ุงุณุชูุฑุงุฏ Linking
import { Platform, Linking } from 'react-native';

// ุชุญุฏูุซ ุฏุงูุฉ ูุชุญ ุงูุฅุนุฏุงุฏุงุช
export async function openNotificationSettings(): Promise<void> {
  try {
    await Linking.openSettings();
    console.log('[PushNotifications] Opened app settings');
  } catch (error) {
    console.error('[PushNotifications] Failed to open settings:', error);
    throw error;
  }
}
```

### 2. `mobile/src/screens/SettingsScreen.tsx`
- ุฅุถุงูุฉ ุงุณุชูุฑุงุฏ: `checkPermissionStatus`, `openNotificationSettings`, `Notifications`
- ุฅุถุงูุฉ ุญุงูุฉ: `notificationPermission`, `checkingNotifications`
- ุฅุถุงูุฉ ุฏุงูุฉ: `checkNotificationPermissions()`, `handleEnableNotifications()`
- ุฅุถุงูุฉ ูุณู UI ุฌุฏูุฏ ูู ุงููุงุฌูุฉ

## ุงูููุฒุงุช ุงูุฅุถุงููุฉ

### 1. ุงูุชุญุฏูุซ ุงูุชููุงุฆู
- ุนูุฏ ุงูุนูุฏุฉ ูุตูุญุฉ ุงูุฅุนุฏุงุฏุงุช (`useFocusEffect`)ุ ูุชู ูุญุต ุญุงูุฉ ุงูุฅุดุนุงุฑุงุช ูุฌุฏุฏุงู
- ุฅุฐุง ูุนูู ุงููุณุชุฎุฏู ุงูุฅุดุนุงุฑุงุช ูู ุงูุฅุนุฏุงุฏุงุชุ ุณุชุชุญุฏุซ ุงูุญุงูุฉ ููุฑุงู

### 2. ุงูุฏุนู ูุชุนุฏุฏ ุงูููุตุงุช
- ูุนูู ุนูู **iOS** ู **Android** ููุท
- ูุชู ุฅุฎูุงุก ุงููุณู ุนูู ุงูููุตุงุช ุบูุฑ ุงููุฏุนููุฉ (Web)

### 3. ุชุฌุฑุจุฉ ูุณุชุฎุฏู ูุญุณููุฉ
- ูุคุดุฑ ุชุญููู ุฃุซูุงุก ูุญุต ุงูุญุงูุฉ
- ุฑุณุงุฆู ูุงุถุญุฉ ููุจุงุดุฑุฉ ุจุงูุนุฑุจูุฉ
- ุฃููููุงุช ุชูุถูุญูุฉ (๐ โ โน๏ธ)
- ุฃุฒุฑุงุฑ ุจุงุฑุฒุฉ ูุณููุฉ ุงููุตูู

## ุงูุงุฎุชุจุงุฑ

### ุฎุทูุงุช ุงูุงุฎุชุจุงุฑ:

#### 1. ุงุฎุชุจุงุฑ ุงูุญุงูุฉ ุงูุฃูููุฉ (undetermined)
- ุชุซุจูุช ุงูุชุทุจูู ูุฃูู ูุฑุฉ
- ูุชุญ ุตูุญุฉ ุงูุฅุนุฏุงุฏุงุช
- ุงูุชุญูู ูู ุธููุฑ "ูุนุทููุฉ" ูุงูุฒุฑ

#### 2. ุงุฎุชุจุงุฑ ุทูุจ ุงูุฅุฐู
- ุงูุถุบุท ุนูู "ุชูุนูู ุงูุฅุดุนุงุฑุงุช"
- ุงุฎุชูุงุฑ "ุงูุณูุงุญ" ูู ูุงูุฐุฉ ุงููุธุงู
- ุงูุชุญูู ูู ุชุบููุฑ ุงูุญุงูุฉ ุฅูู "ููุนููุฉ"

#### 3. ุงุฎุชุจุงุฑ ุงูุฑูุถ
- ุญุฐู ุงูุชุทุจูู ูุฅุนุงุฏุฉ ุชุซุจูุชู
- ุฑูุถ ุงูุฅุฐู ุนูุฏ ุงูุทูุจ ุงูุฃูู
- ุงูุฐูุงุจ ููุฅุนุฏุงุฏุงุช
- ุงูุถุบุท ุนูู "ุชูุนูู ุงูุฅุดุนุงุฑุงุช"
- ุงูุชุญูู ูู ุธููุฑ ุงูุฑุณุงูุฉ ุงูุชูุฌูููุฉ

#### 4. ุงุฎุชุจุงุฑ ูุชุญ ุงูุฅุนุฏุงุฏุงุช
- ุงูุถุบุท ุนูู "ูุชุญ ุงูุฅุนุฏุงุฏุงุช"
- ุงูุชุญูู ูู ูุชุญ ุตูุญุฉ ุฅุนุฏุงุฏุงุช ุงูุชุทุจูู ูู ุงููุธุงู
- ุชูุนูู ุงูุฅุดุนุงุฑุงุช ูู ููุงู
- ุงูุนูุฏุฉ ููุชุทุจูู
- ุงูุชุญูู ูู ุชุญุฏูุซ ุงูุญุงูุฉ ุชููุงุฆูุงู

## ููุงุญุธุงุช ุชูููุฉ

### Best Practices ุงููุชุจุนุฉ:
โ **ุนุฏู ุงูุฅุฒุนุงุฌ**: ูุง ูุทูุจ ุงูุฅุฐู ุฅูุง ุนูุฏูุง ูุถุบุท ุงููุณุชุฎุฏู ุนูู ุงูุฒุฑ
โ **ุงูุดูุงููุฉ**: ุฑุณุงุฆู ูุงุถุญุฉ ุชุดุฑุญ ููุงุฐุง ูุญุชุงุฌ ุงูุฅุดุนุงุฑุงุช
โ **ุงูุณูููุฉ**: ุฒุฑ ูุงุญุฏ ููุชุญ ุงูุฅุนุฏุงุฏุงุช ูุจุงุดุฑุฉ
โ **ุงูุชุญุฏูุซ ุงูุชููุงุฆู**: ุนูุฏ ุงูุนูุฏุฉ ูู ุงูุฅุนุฏุงุฏุงุชุ ุชุชุญุฏุซ ุงูุญุงูุฉ

### ูููุฏ ุงููุธุงู:
- ุนูู iOS ูAndroidุ **ูุง ูููู** ุทูุจ ุงูุฅุฐู ุฃูุซุฑ ูู ูุฑุฉ ุจุดูู ุชููุงุฆู
- ุฅุฐุง ุฑูุถ ุงููุณุชุฎุฏูุ **ูุฌุจ** ูุชุญ ุฅุนุฏุงุฏุงุช ุงููุธุงู ูุฏููุงู
- `Linking.openSettings()` ููุชุญ ุตูุญุฉ ุงูุฅุนุฏุงุฏุงุช ุงูุนุงูุฉ ููุชุทุจูู (ููุณ ูุณู ุงูุฅุดุนุงุฑุงุช ูุจุงุดุฑุฉ)

## ุงูุฎูุงุตุฉ
ูุฐู ุงูููุฒุฉ ุชุญู ูุดููุฉ ุดุงุฆุนุฉ ูู ุงูุชุทุจููุงุช: **ููู ููุนูู ุงููุณุชุฎุฏู ุงูุฅุดุนุงุฑุงุช ุจุนุฏ ุฑูุถูุงุ**

ุงูุญู ููุงุฒู ุจูู:
- ๐ฏ **ุณูููุฉ ุงูุงุณุชุฎุฏุงู**: ุฒุฑ ูุงุญุฏ ุจุงุฑุฒ
- ๐ **ุงููุถูุญ**: ุฑุณุงุฆู ุชูุฌูููุฉ ูุงุถุญุฉ
- ๐ **ุงูุชุญุฏูุซ ุงูุชููุงุฆู**: ุฏูู ุงูุญุงุฌุฉ ูุฅุนุงุฏุฉ ุชุดุบูู ุงูุชุทุจูู
- โจ **ุงูุชุตููู ุงูุฌููู**: ูุชูุงุณู ูุน ุจุงูู ุงููุงุฌูุฉ

---

**ุชู ุงูุชุทุจูู ุจูุฌุงุญ! โ**
